<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/bollnh/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>





    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            heterogenous offline rl | 
        
        Hexo
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.svg">
    <link rel="icon" href="/img/favicon.svg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",Offline RL,Heterogeneous Dataset">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Hexo">
    <meta name="msapplication-starturl" content="http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Hexo">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.svg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="heterogenous offline rl | Hexo">
    <meta property="og:image" content="/img/favicon.svg">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="Offline RL"> <meta property="og:article:tag" content="Heterogeneous Dataset"> 

    
        <meta property="article:published_time" content="Sat Jun 10 2023 21:05:08 GMT+0800">
        <meta property="article:modified_time" content="Sat Jun 10 2023 21:06:49 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html",
    "headline": "heterogenous offline rl",
    "datePublished": "Sat Jun 10 2023 21:05:08 GMT+0800",
    "dateModified": "Sat Jun 10 2023 21:06:49 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Gaoustcer",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Hexo",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.svg"
        }
    },
    "keywords": ",Offline RL,Heterogeneous Dataset",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

<meta name="generator" content="Hexo 6.3.0"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Paper-Collection-Multiple-Policies-Optimization-in-Offline-RL"><span class="post-toc-number">1.</span> <span class="post-toc-text">Paper Collection(Multiple Policies Optimization in Offline RL)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Importance-of-Policy-Structure-of-Offline-RL"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Importance of Policy Structure of Offline RL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%AE%9A%E4%B9%89Mixture-policy"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">定义Mixture policy</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Maximizing-Variational-Lower-Bound-to-train-an-actor"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">Maximizing Variational Lower Bound to train an actor</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Train-the-critic-for-a-mixture-of-deterministic-policies"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">Train the critic for a mixture of deterministic policies</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Algorithm"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">Algorithm</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Code-Implementation"><span class="post-toc-number">1.1.4.1.</span> <span class="post-toc-text">Code Implementation</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Experiment"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">Experiment</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#D4RL-Benchmark"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">D4RL Benchmark</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Behavior-Estimation-from-Multi-Source-Data-for-Offline-Reinforcement-Learning"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Behavior Estimation from Multi-Source Data for Offline Reinforcement Learning</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Task-Behavior-Estimation"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">Task:Behavior Estimation</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Problem-Statement-Behavior-Estimation-from-Multi-source-Data"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">Problem Statement(Behavior Estimation from Multi-source Data)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#From-persepective-of-Possibility-Graph"><span class="post-toc-number">1.2.2.1.</span> <span class="post-toc-text">From persepective of Possibility Graph</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Latent-Variable-Model"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">Latent-Variable Model</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Parameter-Updated"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">Parameter Updated</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BRAC-v"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">BRAC-v</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Experiment-1"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">Experiment</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-number">1.2.6.1.</span> <span class="post-toc-text">数据集</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Heterogeneous-k-dataset"><span class="post-toc-number">1.2.6.2.</span> <span class="post-toc-text">Heterogeneous-k dataset</span></a></li></ol></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                heterogenous offline rl
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Gaoustcer</strong>
        <span>6月 10, 2023</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-none-link" href="/tags/Heterogeneous-Dataset/" rel="tag">Heterogeneous Dataset</a></li><li class="mdl-menu__item"><a class="post_tag-none-link" href="/tags/Offline-RL/" rel="tag">Offline RL</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=heterogenous offline rl&url=http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html&pic=http://gaoustcer.github.io/img/favicon.svg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=heterogenous offline rl&url=http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html&via=Gaoustcer" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="Paper-Collection-Multiple-Policies-Optimization-in-Offline-RL"><a href="#Paper-Collection-Multiple-Policies-Optimization-in-Offline-RL" class="headerlink" title="Paper Collection(Multiple Policies Optimization in Offline RL)"></a>Paper Collection(Multiple Policies Optimization in Offline RL)</h1><p>多策略集构成的数据集可能让基于策略约束的offline rl算法出现退化，总结一下基于mixture policies做offline rl的方法</p>
<p>reference</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2211.01052">offline rl from heteroskedastic data</a> 提出了一个toy model</li>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2210.06479.pdf">Real World Offline Reinforcement Learning with Realistic Data Source</a></li>
<li><a target="_blank" rel="noopener" href="https://openreview.net/forum?id=EJPWfoJRba">V2AE,policy structure</a></li>
</ol>
<h2 id="Importance-of-Policy-Structure-of-Offline-RL"><a href="#Importance-of-Policy-Structure-of-Offline-RL" class="headerlink" title="Importance of Policy Structure of Offline RL"></a>Importance of Policy Structure of Offline RL</h2><p>本文通过控制latent variable，得到了一个state-action space下的diverse policies，本文提出的基于diverse policy学习的算法可以减少offline rl中的critic loss</p>
<h3 id="定义Mixture-policy"><a href="#定义Mixture-policy" class="headerlink" title="定义Mixture policy"></a>定义Mixture policy</h3><p>一个policy有latent variable z控制</p>
<script type="math/tex; mode=display">
\pi(a|s) = \sum_z \pi(z|s)\pi(a|s,z)</script><p>选择latent variable的gating policy根据Q值最大的latent variable得到</p>
<script type="math/tex; mode=display">
z = \arg\max_z Q_w(s,\mu_\theta(s,z))</script><p>目标函数被定义为policy evaluation函数在动作-状态空间上的期望</p>
<script type="math/tex; mode=display">
J(\pi) = E_{s\in D,a\in \pi}[f^\pi(s,a)]\\
f^\pi(s,a) = \exp(Q^\pi(s,a)) ,A^\pi(s,a),\exp{(A^\pi(s,a))}\tag{objective function}\label{objfunc}</script><h3 id="Maximizing-Variational-Lower-Bound-to-train-an-actor"><a href="#Maximizing-Variational-Lower-Bound-to-train-an-actor" class="headerlink" title="Maximizing Variational Lower Bound to train an actor"></a>Maximizing Variational Lower Bound to train an actor</h3><p>希望获得$\ref{objfunc}$的lower bound，写出它在latent variable z下的变分下界，假设</p>
<ol>
<li>policy evaulation function参数w，记作$\hat {f^\pi_w}(s,a) $</li>
<li>deterministic policy function参数$\theta$，记作$\pi_\theta(a|s)$</li>
<li>behavior policy记作$\beta(a|s)$</li>
</ol>
<p>推导$J(\pi)$的对数下界为</p>
<script type="math/tex; mode=display">
\log J(\pi) = E_{(s,a)\in D}[\log \pi_\theta(a|s)\hat {f_w^\pi}(s,a)] - E_{(s,a)\in D}[\log \beta (a|s) \hat {f_w^\pi}(s,a)]\tag{variation lowered bound of expectation return} \label{loss return}</script><p>参数策略$\pi_\theta(a|s)$的变分下界写成</p>
<script type="math/tex; mode=display">
\begin{aligned}
\log \pi_\theta(a|s) &\geq -D_{KL}(q|\phi(z|s,a)\parallel p(z|s)) +E_{z|p(z|s,a)}[\log \pi_\theta(a|s,z)]\\
&=l_{cvae}(s,a;\theta,\phi)
\end{aligned}\tag{variational lower bound of conditional log-likelihood}\label{loss policy}</script><p>RHS本质上是一个cvae的loss函数，policy conditional variable是latent variable，先验分布并非一个无参数的分布，而是Q值的softmax</p>
<script type="math/tex; mode=display">
p(z|s) = \frac{\exp {Q_w(s,\mu_\theta(s,z))}}{\sum_z \exp{Q_w(s,\mu_\theta(s,z))}}</script><p>Q值根据double-clip计算得到，$\ref{loss policy}$第一项是离散分布的KL散度，第二项是predictive loss，这样得到$\ref{loss return}$的lower bound表示</p>
<script type="math/tex; mode=display">
L_{ML}(\theta,\phi) = \sum_{i=-1}^N  f^\pi(s_i,a_i)l_{cvae}(s_i,a_i;\theta,\phi)\tag{CVAE loss}\label{CVAE}</script><p>用于训练CVAE，优化这个损失函数可以优化cvae，</p>
<h3 id="Train-the-critic-for-a-mixture-of-deterministic-policies"><a href="#Train-the-critic-for-a-mixture-of-deterministic-policies" class="headerlink" title="Train the critic for a mixture of deterministic policies"></a>Train the critic for a mixture of deterministic policies</h3><p>带有gating policies的Bellman Equation写成</p>
<script type="math/tex; mode=display">
\Tau Q_z = r(s,a) + \gamma E_{s^\prime}Q_{z}(s^\prime,\mu(s^\prime,z^\prime))</script><h3 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h3><p><img src="https://s2.loli.net/2023/05/23/cMyAbo6lwLE1Quz.png" alt="image-20230523201810378"></p>
<ol>
<li>为什么通过优化$\ref{CVAE}$可以学习到好的actor？</li>
</ol>
<p>因为CVAE计算KL散度中需要计算encoder产生的离散分布，离散分布和Q值和actor计算的动作有关</p>
<ol>
<li>为什么是max CVAE的损失函数</li>
</ol>
<p>本质上$\ref{CVAE}$并非CVAE真正的损失函数，第一项</p>
<script type="math/tex; mode=display">
-KL(\pi_\phi(z|s_i,a_i)\parallel p(z|s_i))</script><p>描述的是分布距离，KL散度的意义告诉我们希望尽量减少KL散度，也就是max它的相反数，第二项</p>
<script type="math/tex; mode=display">
E_{z|p(z|s_i,a_i)}[\log \pi_{\theta}(a_i|s_i,z_i)]</script><p>完全可以用重构距离描述</p>
<blockquote>
<p>如何在离散分布采样中反向传播(无需，直接求解期望即可)</p>
</blockquote>
<p>对于状态$s_i$，计算它在k组latent variable下的动作，记作</p>
<script type="math/tex; mode=display">
a_1^i,a_2^i,\cdots,a_k^i</script><p>计算loss采取加权</p>
<script type="math/tex; mode=display">
loss(s_i,a_i) = \sum_{j=1}^k (a_j^i - a_i)^2 p_j</script><h4 id="Code-Implementation"><a href="#Code-Implementation" class="headerlink" title="Code Implementation"></a>Code Implementation</h4><p>构造CVAE</p>
<script type="math/tex; mode=display">
CVAE(E_\phi,D_\psi),E_\phi:(s,a)\to p\in \R^{|Z|}\\
D_\psi:s\times z\to a</script><p>Actor-Critic</p>
<script type="math/tex; mode=display">
Critic:Q_w:s\times a\to 1\\
Actor:A_\theta(s,z):s\times z\to a</script><p>采样实现反向传播，从先验分布$p(z)$中采样z，计算$A_\theta(s,z)$，希望最小化重构距离，loss表示为</p>
<script type="math/tex; mode=display">
loss (s,a) = \sum_z p(z)  (D_\psi(s,z) - a)^2</script><h3 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h3><p>toy环境(稀疏奖励)</p>
<p><img src="https://s2.loli.net/2023/05/21/MfyuRjgLvi5cJ7m.png" alt="image-20230521160046705"></p>
<h3 id="D4RL-Benchmark"><a href="#D4RL-Benchmark" class="headerlink" title="D4RL Benchmark"></a>D4RL Benchmark</h3><h2 id="Behavior-Estimation-from-Multi-Source-Data-for-Offline-Reinforcement-Learning"><a href="#Behavior-Estimation-from-Multi-Source-Data-for-Offline-Reinforcement-Learning" class="headerlink" title="Behavior Estimation from Multi-Source Data for Offline Reinforcement Learning"></a>Behavior Estimation from Multi-Source Data for Offline Reinforcement Learning</h2><p><img src="https://s2.loli.net/2023/05/25/wSRUjZ34ICKYfAX.png" alt="image-20230525205809411"></p>
<p>Multi-Source Trajectory带来的问题是在同一个状态倾向于采取不同的动作，本文通过从异质数据集中建模多个策略解决数据异构型的问题。本文提出的基于latent variable的model-learning算法将policy和trajectory嵌入到低维空间中，并尝试从低维空间表示中重建action</p>
<h3 id="Task-Behavior-Estimation"><a href="#Task-Behavior-Estimation" class="headerlink" title="Task:Behavior Estimation"></a>Task:Behavior Estimation</h3><p>给定数据集$D=\{\tau_m\}$，输出生成数据集的behavior policy</p>
<script type="math/tex; mode=display">
\max_{\theta_b} E_{(s,a)\in D}[\log b(a|s;\theta_b)]</script><p>medium-replay data来自多个策略</p>
<h3 id="Problem-Statement-Behavior-Estimation-from-Multi-source-Data"><a href="#Problem-Statement-Behavior-Estimation-from-Multi-source-Data" class="headerlink" title="Problem Statement(Behavior Estimation from Multi-source Data)"></a>Problem Statement(Behavior Estimation from Multi-source Data)</h3><p>对于包含M条trajectory的数据集$D= \{\tau_m\}_{m=1}^M$，可以认为它采样自不同策略，希望输出一个K个策略组成的behavior set $\mathcal B=\{b_k \}_{k=1}^K$。同时生成轨迹到策略的映射矩阵</p>
<script type="math/tex; mode=display">
G\in \{0,1\}^{M\times K},</script><p>$G_{u,v} = 1\Rightarrow$轨迹$\tau_u$由策略$b_v$生成</p>
<h4 id="From-persepective-of-Possibility-Graph"><a href="#From-persepective-of-Possibility-Graph" class="headerlink" title="From persepective of Possibility Graph"></a>From persepective of Possibility Graph</h4><p><img src="https://s2.loli.net/2023/05/26/K17alXGrojhpiE9.png" alt="image-20230526130459719"></p>
<h3 id="Latent-Variable-Model"><a href="#Latent-Variable-Model" class="headerlink" title="Latent-Variable Model"></a>Latent-Variable Model</h3><p>假设数据集来自K个策略，生成策略的过程可以分成两个部分</p>
<ol>
<li>选择对应的latent variable $z_m$</li>
<li>基于策略$b_{z_m}$采样生成轨迹</li>
</ol>
<p>这里一条基本假设是每条轨迹均来自单一策略</p>
<p><img src="https://s2.loli.net/2023/05/26/dJ6PKpMC7fxcEy4.png" alt="image-20230526130848623"></p>
<p><img src="https://s2.loli.net/2023/05/26/jJksHnO7lSLpm5P.png" alt="image-20230526092725671"></p>
<p>Policy Network和Q-Network包括三个矩阵</p>
<ol>
<li>$W\in \R^{M\times d_e}$，将$\mathcal D$中的每个trajectory映射到一个长度$d_e$的嵌入</li>
<li>$E\in \R^{K\times d_e}$是每个policy的嵌入</li>
<li>$H\in \R^{K\times d_e}$是每个策略的Q function的嵌入矩阵</li>
<li>构建policy network：$f_s$将state嵌入到low-representation，和E矩阵中对应的张量concat送入policy encoder $f_p$中输出policy的分布</li>
<li>构建Q network：将state-action pair嵌入到low-representation $f_{s,a}$，和policy embedding做concat送入$f_Q$</li>
</ol>
<blockquote>
<p>真实异质数据集</p>
</blockquote>
<h3 id="Parameter-Updated"><a href="#Parameter-Updated" class="headerlink" title="Parameter Updated"></a>Parameter Updated</h3><p>$z_m$作为当前state $s_m$选择的策略下标，它的先验分布根据$e_j,w_m$内积计算得到</p>
<script type="math/tex; mode=display">
q(z_m=k|s_m,a_m)=\left\{
\begin{aligned}
&1\quad k = \arg\max_j e_j^T w_m\\
&0\quad else
\end{aligned}
\right.\tag{priority distribution of $z_m$}\label{prior}</script><p>通过action reconstruction学习trajectory embedding matrix $W\in \R^{M\times d_e}$，希望通过$f_s,w_m,e_{z_m}$重建$a_m$，因此损失函数为</p>
<script type="math/tex; mode=display">
L_{rec} = l(f_p(f_s(s_m),e_{z_m}),a_m)+l(f_p(f_s(s_m),w_m),a_m)</script><blockquote>
<p>$e_{z_m},w_n$都是$d_e$维向量，可以作为actor输入，W矩阵用于获取policy矩阵中policy嵌入</p>
</blockquote>
<p>同时根据$\ref{prior}$，选择的$e_j$应该在内积上和$w_m$尽量相似，因此第二个损失函数写成</p>
<script type="math/tex; mode=display">
L_{com} = 1 - w_m^T e_{z_m}</script><p>第三项损失函数是TD error，对于输入的transition $(s_m,a_m,r_m)$，通过policy net计算出一个动作分布，记作</p>
<script type="math/tex; mode=display">
b_{z_m}</script><p>从这个分布中采样计算TD error</p>
<script type="math/tex; mode=display">
L_Q = E_{a^\prime|b_{z_m}}[(r_m + \gamma Q^{b_{z_m}}(s_m^\prime,a^\prime) - Q^{b_{z_m}}(s_m,a_m))^2]</script><p>总的loss记作</p>
<script type="math/tex; mode=display">
L = L_{rec} +\alpha L_{com} + L_Q</script><h3 id="BRAC-v"><a href="#BRAC-v" class="headerlink" title="BRAC-v"></a>BRAC-v</h3><p>BRAC-v是最简单的一类policy penality算法，基于learned policy和behavior policy之间的差异进行约束，它的Actor-Critic Loss记作</p>
<script type="math/tex; mode=display">
L_{critic} = E_{a^\prime|\pi(\cdot|s_m^\prime)}[r_m +\gamma (Q^\pi(s_m^\prime,a^\prime) -\beta D(\pi,b,s_m^\prime)) - Q^\pi(s_m,a_m)]^2\\
L_{actor} = E_{a|\pi(\cdot|s_m)}[\beta D(\pi,b,s_m) - Q^\pi(s_m,a)]</script><blockquote>
<p>这个损失函数实际上在DDPG基础上加上策略距离</p>
</blockquote>
<p>策略距离$D(\pi,b,s)$定义为</p>
<script type="math/tex; mode=display">
D(\pi,b,s) = E_{a|\pi(\cdot|s)} [\log \pi(a|s) - \log b (a|s)]\tag{policy distance}\label{pdistance}</script><ol>
<li>$\pi$ learned policy</li>
<li>b behavior policy</li>
</ol>
<p>multi-source data条件下用$\ref{pdistance}$很难刻画策略距离，针对multi-source data的假设，我们在从一个轨迹$\tau_m$中学习时，希望使用对应轨迹的概率分布刻画它和Learned Policy之间的距离</p>
<p>参考本文中学习$f_s,f_p,s_{s,a}$的思路，希望学习两个representation</p>
<script type="math/tex; mode=display">
e_\pi,h_\pi\in \R^{d_e}</script><p>前者是learned policy representation，后者是对应的Q function representation </p>
<h3 id="Experiment-1"><a href="#Experiment-1" class="headerlink" title="Experiment"></a>Experiment</h3><h4 id="数据集"><a href="#数据集" class="headerlink" title="数据集"></a>数据集</h4><p>基于3个D4RL环境，每个环境收集四个数据集</p>
<ol>
<li>random(random policy)</li>
<li>medium(medium RL agent)</li>
<li>medium-replay(训练Agent过程中收集的数据)</li>
<li>medium-expert(medium+expert收集经验)</li>
</ol>
<h4 id="Heterogeneous-k-dataset"><a href="#Heterogeneous-k-dataset" class="headerlink" title="Heterogeneous-k dataset"></a>Heterogeneous-k dataset</h4><p>基于SAC保存若干checkpoints收集的数据集</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://gaoustcer.github.io/2023/06/10/heterogenous-offline-rl/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2023/06/19/optimize-transport/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2023/05/21/Objective-File/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Gaoustcer's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        kd193104@mail.ustc.edu.cn
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2023/10/">十月 2023<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/09/">九月 2023<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/08/">八月 2023<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/07/">七月 2023<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/06/">六月 2023<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/05/">五月 2023<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2023/04/">四月 2023<span class="sidebar_archives-count">23</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    
        <li>
            <a href="/papers" title="papers">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                papers
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">53</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/bollnh/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Hexo
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/bollnh/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<!-- <script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script> -->

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/bollnh/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
    for (var i = 0; i < all.length; ++i)
        all[i].SourceElement().parentNode.className += ' has-jax';
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->

</body>
    
</html>
